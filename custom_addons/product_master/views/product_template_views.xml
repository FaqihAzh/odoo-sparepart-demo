<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <!-- Extend product template form -->
  <record id="view_product_template_form_inherit_pm" model="ir.ui.view">
    <field name="name">product.template.form.inherit.pm</field>
    <field name="model">product.template</field>
    <field name="inherit_id" ref="product.product_template_only_form_view"/>
    <field name="priority">50</field> <!-- tambahkan priority tinggi -->
    <field name="arch" type="xml">

      <!-- Tambahkan setelah Internal Reference -->
      <xpath expr="//field[@name='default_code']" position="after">
        <field name="item_code" readonly="1"/>
        <field name="brand_id"/>
        <field name="default_supplier_id"/>
        <field name="qr_enabled"/>
      </xpath>

      <!-- Tambahkan tab baru untuk Stock Thresholds -->
      <xpath expr="//notebook" position="inside">
        <page string="Stock Thresholds">
          <field name="threshold_ids" context="{'default_product_id': active_id}">
            <tree editable="top">
              <field name="warehouse_id"/>
              <field name="min_qty"/>
              <field name="max_qty"/>
            </tree>
            <form>
              <group>
                <field name="warehouse_id"/>
                <field name="min_qty"/>
                <field name="max_qty"/>
              </group>
            </form>
          </field>
        </page>
      </xpath>
    </field>
  </record>

  <!-- brand tree & form -->
  <record id="view_product_brand_tree" model="ir.ui.view">
    <field name="name">product.brand.tree</field>
    <field name="model">product.brand</field>
    <field name="arch" type="xml">
      <tree>
        <field name="name"/>
        <field name="active"/>
      </tree>
    </field>
  </record>

  <record id="view_product_brand_form" model="ir.ui.view">
    <field name="name">product.brand.form</field>
    <field name="model">product.brand</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
            <field name="name"/>
            <field name="active"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <!-- action + menu -->
  <record id="action_product_brand" model="ir.actions.act_window">
    <field name="name">Product Brands</field>
    <field name="res_model">product.brand</field>
    <field name="view_mode">tree,form</field>
  </record>

  <menuitem id="menu_product_master_root" name="Master Product"
            parent="stock.menu_stock_root" sequence="90"/>
  <menuitem id="menu_product_brand" name="Brands"
            parent="menu_product_master_root"
            action="action_product_brand" sequence="10"/>
</odoo>
